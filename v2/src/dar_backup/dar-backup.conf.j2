
# SPDX-License-Identifier: GPL-3.0-or-later

# ------------------------------------------------------------------------
# Demo of a `dar-backup` configuration file
# This file was generated by dar-backup's `demo` program.
# 
{%- if opts_dict | length > 0 %}
# Options given to the `demo` program:
{% endif %}
{%- if opts_dict.ROOT_DIR -%}
# --root-dir : {{ opts_dict.ROOT_DIR }}  
{% endif %}
{%- if opts_dict.DIR_TO_BACKUP -%}
# --dir-to-backup : {{ opts_dict.DIR_TO_BACKUP }}  
{% endif -%}
{%- if opts_dict.BACKUP_DIR -%}
# --backup-dir : {{ opts_dict.BACKUP_DIR }}
{% endif %}
#
# Variables used to generate this file:
# =====================================
{% for k,v in vars_map|dictsort %}# {{ k }} : {{ v }}
{% endfor -%}
# ------------------------------------------------------------------------

[MISC]
LOGFILE_LOCATION = {{ vars_map.DAR_BACKUP_DIR -}}/dar-backup.log
# optional parameters
# LOGFILE_MAX_BYTES = 26214400  # 25 MB default, change as neeeded
# LOGFILE_BACKUP_COUNT = 5      # default, change as needed
# DAR_BACKUP_DISCORD_WEBHOOK_URL **should really** be given as an environment variable for security reasons
# DAR_BACKUP_DISCORD_WEBHOOK_URL = https://discord.com/api/webhooks/<id>/<token>
# Optional Trace log configuration (debug level logs with stack traces)
# TRACE_LOG_MAX_BYTES = 10485760  # 10 MB default
# TRACE_LOG_BACKUP_COUNT = 1      # 1 backup file default

MAX_SIZE_VERIFICATION_MB = 2
MIN_SIZE_VERIFICATION_MB = 0
NO_FILES_VERIFICATION = 1
# Optional restore test filters (case-insensitive)
# RESTORETEST_EXCLUDE_PREFIXES = .cache/, .local/share/Trash/, .mozilla/
# RESTORETEST_EXCLUDE_SUFFIXES = .sqlite-wal, .sqlite-shm, .log, .tmp, .lock, .journal
# RESTORETEST_EXCLUDE_REGEX = (^|/)(Cache|Logs)/
# timeout in seconds for backup, test, restore and par2 operations
# The author has such `dar` tasks running for 10-15 hours on the yearly backups, so a value of 24 hours is used.
# If a timeout is not specified when using the CommandRunner, a default timeout of 30 secs is used.
COMMAND_TIMEOUT_SECS = 86400

[DIRECTORIES]
BACKUP_DIR = {{ vars_map.BACKUP_DIR }}
BACKUP.D_DIR = {{ vars_map.BACKUP_D_DIR }}
TEST_RESTORE_DIR = {{ vars_map.TEST_RESTORE_DIR }}
# Optional parameter
# If you want to store the catalog database away from the BACKUP_DIR,  use the MANAGER_DB_DIR variable.
#MANAGER_DB_DIR = /some/where/else/

[AGE]
# DIFF and INCR backups are kept for a configured number of days, then deleted by the `cleanuo` 
# age settings are in days
DIFF_AGE = 100
INCR_AGE = 40

[PAR2]
ERROR_CORRECTION_PERCENT = 5
# Enable or disable PAR2 generation globally
ENABLED = True
# Optional PAR2 configuration
# PAR2_DIR = /path/to/par2-store
# PAR2_RATIOs are meuasured as percentages. Same function as ERROR_CORRECTION_PERCENT
# PAR2_RATIO_FULL = 10
# PAR2_RATIO_DIFF = 5
# PAR2_RATIO_INCR = 5
# PAR2_RUN_VERIFY = false

[PREREQ]
#SCRIPT_1 = <pre-script 1>

[POSTREQ]
#SCRIPT_1 = <post-script 1>

#######################################################################
## Per-backup configuration example overrides
#######################################################################
#
## --------------------------------------------------------------------
## Per-backup overrides (section name must match backup.d filename stem)
## Example: backup.d/home.conf  ->  [home]
## --------------------------------------------------------------------
#
##[home]
## Disable PAR2 entirely for this backup definition
#PAR2_ENABLED = false
##
##[media]
## Store PAR2 files in a separate location for this backup definition
##PAR2_DIR = /samba/par2/media
## Raise redundancy only for FULL
##
#[documents]
## Run verify par2 sets after creation
#PAR2_RUN_VERIFY = true
##
##[etc]
## Keep global PAR2 settings but tweak ratios for this backup definition
##PAR2_RATIO_FULL = 15
##PAR2_RATIO_DIFF = 8
##PAR2_RATIO_INCR = 8
